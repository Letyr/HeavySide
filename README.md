# HeavySide
Cource  project. Physic simulator

Курсовой проект HeavySide.
Задание для курсовой:
 - Симуляция физики аэродинамики самолета
 - Создание графического приложения для редактирования 3-х мерных ландшафтов.
Приложение реализовано на платформе Windows с использованием графических библиотек OpenGL, Glut, OpenIL(DevIL), а также некоторых расширений (VBO). Используемый язык программирования c++, рабочее IDE - программная среда разработки - Code::Block. Для реализации необходимого задания было решено разработать графическое приложение с генерируемым и настраиваемым ландшафтом и возможностью полета на самолете в этом игровом мире.
ВАЖНО! Также в качестве дополнения, для участия в конкурсе программных продуктов решено было добавить симулятор шутера. То есть некой игровой логике, где осуществляется управление персонажем, ведущем борьбу с противниками. Передвижение игровых персонажей происходит по игровому ландшафту, взаимодействие при помощи логики физических столкновений.

Структура проекта:
Программную основу приложения составляет шаблон библиотеки glut. Glut реализует итеративную структуру "callback" функций.
Условно проект разделен на несколько частей: контроллер, движок, физический симулятор, графический симулятор, интерфейс и игровая логика.
- Контроллер реализованн на использовании callback функции библиотеки glut, прослушивающей нажатие клавишь клавиатур, передвижение мыши, нажатия клавишь мыши. Для упрощения структуры используется callback структура. Существует указатель на функцию контроля, и в зависимости от режима выбирается соответствующая функция котроля.
- Движок приложения содержит включает в себя стандартные библиотеки c++ такие как cmath, iostream, thread а также контейнеров типа vector и string. Также разработаны специальные классы 2-х и 3-х мерных векторов Vector2 и Vector3, класс кватерниона вращения пространства Quaternion. Векторы используются для стандратных вычислений векторной алгебры и позиционирования объектов в игровом мире. Кватернион используется для некоторых афинных преобразований, таких как вращения геометрии в пространстве.
Обновление: Разработан класс ModelLoader для загрузки 3-D моделей в формате .obj.
Обновление: Разработан класс TextureHandler для загрузки изображений из большинства графических форматов, таких как .jpg, или .png., при помощи библиотеки DevIL.
Обновление: Разработан класс TerrainHandler для генерации карты высот с использованием square и diamond square алогитмов генерации, а также для загрузки карты высот с изображения.
Обновление: Разработан класс TextHandler для отрисовки текстовой информации.
- Физический симулятор разработан с использованием принципов Unity - инструмента для разработки 2-х и 3-х мерных игр. Физический симулятор должен уметь описывать объект, его поведение и сзаимодействие с другими объектами на основе каких-то глобальных законов. Любой объект в пространстве игрового мира является игровым объектом. Это абстрактный класс GameObject который обязательно имеет какие-то свойства присущие всем объектам в мире, такие как отрисовка или позиция в мире. Для позиционирования объекта в мире используется класс Transform. Для реализации поведения физических сил используется класс RigidBody, он симулирует поведение абсолютно-упругого твердого тела. Для симуляции физики взаимодействия тел используются Collider-ы, объекты умеющие сталкиваться друг с другом и определять точку коллизии.
- Графический симулятор использует OpenGL и callback структуру для оперативного рендера картинки, в зависимости от выбранного режима.
- Интерфейс представляет из себя набор методов для отрисовки GUI.
- Игровая логика представляет из себя специальную структуру - игровой мир. В мире существуют какие-то объекты, эти объекты имеют разные св-ва и методы, но тем не менее им всем присуще некторые общие черты. Например любой объект в мире имеет некторое проявление в мире (метод отрисовки draw()) или некоторое воздействие на мир (методы вроде action()). Списки всех игровых объектов, а также методы для управления ими содержатся в namespace World. В каждой итерации отрисовке вызываемой glut выполняется три главных метода приложения.
 • controll() - Это callback функция. Так как glut прослушивает клавиатуру и мышь асинхронно может возникнуть некоторые проблемы, поэтому создан набор методов реакции на эти воздействия. В зависимости от выбранного режима в начале итерации игрового цикла проводится реакция на определенный набор воздействий, при вызове метода controll(). Например при управление истребителем нажатия клавишь направления вызовут его вращение. Тогда как при управлении камерой эти же нажатия вызовут смещение камеры в пространстве.
 • physics() - Это callback функция. Здесь реализуется все физические симуляции игровых объектов.
 • render() - Это callback функция. В зависимости от выбранного режима выбирается определенная функция отрисовки и определенный набор графических настроек.
